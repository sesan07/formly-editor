<span class="header">
    <span class="header-title">Formly Editor</span>
    <span class="header-buttons">
        <button
            mat-button
            (click)="onImportForm()"
        >
            <mat-icon>add</mat-icon>Add Form
        </button>
        <button
            mat-button
            (click)="onExportForm()"
            [disabled]="(forms$ | async).length === 0"
        >
            <mat-icon>file_upload</mat-icon>Export Form
        </button>
    </span>
</span>
<mat-tab-group
    class="form-tab-group"
    *ngIf="(forms$ | async).length > 0; else emptyView"
    [selectedIndex]="activeFormIndex$ | async"
    (selectedIndexChange)="onTabChange($event)"
>
    <mat-tab *ngFor="let form of forms$ | async; let i = index; trackBy: trackFormById">
        <ng-template mat-tab-label>
            <div
                class="inner-tab-label-content"
                (mousedown)="onTabLabelMouseDown($event, i)"
            >
                <span>{{ form.name }}</span>
                <button
                    class="close-btn"
                    mat-icon-button
                    (click)="onRemoveForm(i)"
                >
                    <mat-icon>close</mat-icon>
                </button>
            </div>
        </ng-template>
        <editor-form [form]="form"></editor-form>
    </mat-tab>
</mat-tab-group>

<ng-template #emptyView>
    <div class="empty-view">
        <div>[ Cool Logo Here ]</div>
        <button
            mat-flat-button
            color="primary"
            (click)="onImportForm()"
        >
            <mat-icon>add</mat-icon>Add Form
        </button>
    </div>
</ng-template>
