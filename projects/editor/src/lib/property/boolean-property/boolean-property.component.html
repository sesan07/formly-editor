<editor-tree-item
    *ngIf="!isSimplified; else simplifiedView"
    [treeLevel]="treeLevel"
    [hasOptions]="hasOptions"
    [optionsMenu]="optionsMenu"
>
    <ng-container headerContent>
        <span class="property-key">
            <span
                #key
                class="keyField"
                [ngClass]="{ editable: !!property.isKeyEditable }"
                [contentEditable]="!!property.isKeyEditable"
            >
            </span>
            <span>:</span>
        </span>
        <mat-checkbox
            class="property-field"
            [formControl]="formControl"
        ></mat-checkbox>
    </ng-container>
</editor-tree-item>

<ng-template #simplifiedView>
    <mat-checkbox [formControl]="formControl">
        {{ property.name ? property.name : property.key }}
    </mat-checkbox>
</ng-template>

<mat-menu #optionsMenu="matMenu">
    <button
        *ngIf="property.isRemovable"
        mat-menu-item
        color="warn"
        (click)="remove.emit()"
    >
        <mat-icon>remove</mat-icon>
        <span>Remove</span>
    </button>
</mat-menu>
