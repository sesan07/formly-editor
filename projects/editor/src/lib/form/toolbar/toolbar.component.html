<mat-button-toggle-group
    [value]="tabIndex"
    (valueChange)="tabIndexChange.emit($event)"
>
    <mat-button-toggle [value]="0">
        <mat-icon>dashboard</mat-icon>
        <span>Form</span>
    </mat-button-toggle>
    <mat-button-toggle [value]="1">
        <mat-icon>code</mat-icon>
        <span>JSON</span>
    </mat-button-toggle>
</mat-button-toggle-group>

<div class="action-buttons">
    <mat-slide-toggle
        labelPosition="before"
        [ngModel]="isEditMode"
        (ngModelChange)="isEditModeChange.emit($event)"
        >Edit Mode</mat-slide-toggle
    >
    <mat-slide-toggle
        labelPosition="before"
        [ngModel]="isOverrideMode"
        (ngModelChange)="isOverrideModeChange.emit($event)"
        >Override Mode</mat-slide-toggle
    >
    <button
        mat-icon-button
        [matMenuTriggerFor]="optionsMenu"
    >
        <mat-icon>more_vert</mat-icon>
    </button>
</div>

<mat-menu #optionsMenu="matMenu">
    <button
        class="editor-mat-menu-item"
        mat-menu-item
        (click)="resetModel.emit()"
    >
        <mat-icon>restart_alt</mat-icon>
        Reset Form
    </button>
    <button
        class="editor-mat-menu-item"
        mat-menu-item
        (click)="duplicateForm.emit()"
    >
        <mat-icon>content_copy</mat-icon>
        Duplicate Form
    </button>
    <button
        class="editor-mat-menu-item"
        mat-menu-item
        (click)="exportForm.emit()"
    >
        <mat-icon>file_upload</mat-icon>
        Export Form
    </button>
    <button
        class="editor-mat-menu-item"
        mat-menu-item
        (click)="isExpanded = !isExpanded; toggleSidebars.emit(isExpanded)"
    >
        <mat-icon class="toggle-sidebars-icon">{{ isExpanded ? 'unfold_more' : 'unfold_less' }}</mat-icon>
        Toggle sidebars
    </button>
</mat-menu>
