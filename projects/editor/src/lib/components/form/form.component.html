<lib-sidebar [position]="typeOfSideBarPosition.LEFT">
	<lib-sidebar-section
		[sectionTitle]="'Add Field'">
        <lib-field-category-list
            *ngFor="let category of editorService.fieldCategories; let first = first"
            [category]="category"
            [formId]="form.id"
            [isExpanded]="first">
        </lib-field-category-list>
	</lib-sidebar-section>
    <lib-sidebar-section
        [sectionTitle]="'Fields'"
        >		
        <lib-field-tree-item 
			*ngFor="let field of form.fields"
			[field]="field"
			[isExpanded]="true">
		</lib-field-tree-item>
	</lib-sidebar-section>
</lib-sidebar>

<lib-form-view 
    class="form-view"
    [form]="form"
    [formChanged$]="formChanged$"
    (modelChanged)="onModelChanged()">
</lib-form-view>

<lib-sidebar [position]="typeOfSideBarPosition.RIGHT">
	<lib-sidebar-section
		[sectionTitle]="'Properties - ' + editorService.getFormattedFieldName(form.activeField.name, form.activeField.key)"
        >
        <lib-property
            [target]="form.activeField"
            [property]="activeFieldProperty"
            [isRoot]="true"
            (valueChanged)="onFieldPropertyChanged()">
        </lib-property>
	</lib-sidebar-section>

	<lib-sidebar-section
		[sectionTitle]="'Model'"
		[menuPanel]="modelOptionsMenu"
        >
        <lib-property
            [target]="form.model"
            [property]="modelProperty"
            [isRoot]="true"
            (valueChanged)="onModelPropertyChanged()">
        </lib-property>
	</lib-sidebar-section>
</lib-sidebar>

<mat-menu #modelOptionsMenu="matMenu">
	<button mat-menu-item (click)="onImportModel()">
		<mat-icon>file_download</mat-icon>
		<span>Import</span>
	</button>
	<button mat-menu-item (click)="onExportModel()">
		<mat-icon>file_upload</mat-icon>
		<span>Export</span>
	</button>
</mat-menu>
